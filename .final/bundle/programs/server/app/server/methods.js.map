{"version":3,"sources":["meteor://ðŸ’»app/server/methods.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/server/methods.js","sourcesContent":["Meteor.methods({\n  setSubscription: function(dateId, email, subState) {\n    var userId = Users.findOne({email: email})._id;\n    console.log(userId);\n    var subscribers = Dates.findOne({_id: dateId}, {fields: {subscribers: 1}}).subscribers;\n    console.log(subscribers.indexOf(userId));\n    if (subscribers.indexOf(userId) === -1 && subState) {\n      Dates.update({_id: dateId}, {$push: {subscribers: userId}});\n    } else if (! subState){\n      Dates.update({_id: dateId}, {$pull: {subscribers: userId}});\n    }\n\n  },\n  createDate: function(dateInfo) {\n    Dates.insert({\n      dateInfo: dateInfo,\n      subscribers: []\n    });\n  },\n  createUser: function(email) {\n    Users.insert({\n      email: email\n    });\n  },\n  deleteUser: function (userId) {\n    Users.remove(userId);\n  },\n  deleteDate: function (dateId) {\n    Dates.remove(dateId);\n  }\n});"]}